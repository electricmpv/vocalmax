# VocalMax ğŸ™ï¸

ç”·æ€§å£°éŸ³è®­ç»ƒ Web Appâ€”â€”å¸®åŠ©ä½ æŠŠå£°éŸ³å˜å¾—æ›´æ·±æ²‰ã€æ›´ç¨³å®šã€æ›´æœ‰æŒæ§æ„Ÿã€‚

åƒå¤šé‚»å›½ä¸€æ ·ï¼š**æ¯å¤© 3 ä¸ªå…³å¡ï¼Œå³æ—¶åé¦ˆï¼ŒXP è¿èƒœï¼Œå¯åˆ†äº«æˆç»©å¡**ã€‚

ä¸¤æ¡èµ›é“ï¼š
- **A. çº¦ä¼šè‡ªä¿¡**ï¼ˆVoice-maxxingï¼‰ï¼šç£æ€§ä½æ²‰ï¼Œè®©å£°éŸ³æ›´æœ‰å¸å¼•åŠ›
- **B. èŒåœºæƒå¨**ï¼ˆä¼šè®®/é¢è¯•ï¼‰ï¼šç¨³å®šæƒå¨ï¼Œæ§åˆ¶å‘è¨€èŠ‚å¥

**éšç§åŸåˆ™ï¼šéŸ³é¢‘é»˜è®¤åœ¨æœ¬åœ°å¤„ç†ï¼Œä¸ä¸Šä¼ äº‘ç«¯ã€‚**

---

## å¿«é€Ÿå¼€å§‹ï¼ˆæœ¬åœ°å¼€å‘ï¼‰

### ç¯å¢ƒè¦æ±‚

- Node.js 22+ï¼ˆæ¨è via [nvm](https://github.com/nvm-sh/nvm)ï¼‰
- npm 10+

### å®‰è£…ä¸è¿è¡Œ

```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/electricmpv/vocalmax.git
cd vocalmax

# å®‰è£…ä¾èµ–
npm install

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev
```

æ‰“å¼€ [http://localhost:3000](http://localhost:3000) å³å¯è®¿é—®ã€‚

> **iOS Safari æ³¨æ„**ï¼šéœ€è¦åœ¨ HTTPS æˆ– localhost ä¸‹æ‰èƒ½è·å–éº¦å…‹é£æƒé™ã€‚

---

## Docker éƒ¨ç½²ï¼ˆæ¨èï¼‰

```bash
# å¤åˆ¶ç¯å¢ƒå˜é‡ï¼ˆå¯é€‰ï¼‰
cp .env.example .env.local

# æ„å»ºå¹¶å¯åŠ¨ï¼ˆç«¯å£ 3001ï¼‰
docker compose up --build -d

# æŸ¥çœ‹æ—¥å¿—
docker compose logs -f
```

è®¿é—® [http://localhost:3001](http://localhost:3001)

### åœæ­¢æœåŠ¡

```bash
docker compose down
```

---

## ç›®å½•ç»“æ„

```
vocalmax/
â”œâ”€â”€ app/               # Next.js App Router é¡µé¢
â”‚   â”œâ”€â”€ page.tsx       # / Landing é¡µ
â”‚   â”œâ”€â”€ app/           # /app è®­ç»ƒä¸»ç•Œé¢
â”‚   â”œâ”€â”€ coach/         # /coach æ•™ç»ƒæ•™ç¨‹
â”‚   â””â”€â”€ share/         # /share åˆ†äº«å¡
â”‚
â”œâ”€â”€ core/              # éŸ³é¢‘å¼•æ“ï¼ˆçº¯ TypeScriptï¼Œæ—  React ä¾èµ–ï¼‰
â”‚   â”œâ”€â”€ audio-engine.ts      # å½•éŸ³ + ç¦»çº¿åˆ†æä¸»å…¥å£
â”‚   â”œâ”€â”€ pitch-yin.ts         # YIN pitch detection
â”‚   â”œâ”€â”€ rms-analyzer.ts      # RMS èƒ½é‡
â”‚   â”œâ”€â”€ stability-tracker.ts # F0 ç¨³å®šæ€§
â”‚   â”œâ”€â”€ pace-detector.ts     # è¯­é€Ÿ / åœé¡¿ VAD
â”‚   â””â”€â”€ types.ts             # AudioMetrics, AnalysisResult æ¥å£
â”‚
â”œâ”€â”€ content/           # è¯¾ç¨‹æ•°æ®ï¼ˆæ•°æ®é©±åŠ¨ï¼ŒJSON-like TypeScriptï¼‰
â”‚   â”œâ”€â”€ schema.ts            # DayLesson, LessonExercise ç±»å‹
â”‚   â”œâ”€â”€ track-a/             # çº¦ä¼šè‡ªä¿¡ Day 1-7
â”‚   â”œâ”€â”€ track-b/             # èŒåœºæƒå¨ Day 1-7
â”‚   â”œâ”€â”€ tutorials.ts         # 4 ä¸ªå¾®æ•™ç¨‹
â”‚   â””â”€â”€ index.ts             # ç»Ÿä¸€å¯¼å‡º + æŸ¥è¯¢å‡½æ•°
â”‚
â”œâ”€â”€ components/        # UI ç»„ä»¶
â”œâ”€â”€ hooks/             # React Hooks
â”œâ”€â”€ store/             # Zustand å…¨å±€çŠ¶æ€
â””â”€â”€ lib/               # å·¥å…·å‡½æ•°ï¼ˆè¯„åˆ†ã€åˆ†äº«å¡æ¸²æŸ“ï¼‰
```

---

## æ ¸å¿ƒæŠ€æœ¯

| æ¨¡å— | æŠ€æœ¯ |
|------|------|
| æ¡†æ¶ | Next.js 16 + TypeScript + App Router |
| æ ·å¼ | Tailwind CSS 4 |
| çŠ¶æ€ | Zustand 5 + LocalStorage æŒä¹…åŒ– |
| Pitch æ£€æµ‹ | pitchfinderï¼ˆYIN ç®—æ³•ï¼Œ229KBï¼Œæ—  WASMï¼‰ |
| åˆ†äº«å¡ | Canvas 2D APIï¼ˆæ—  html2canvasï¼‰ |
| éƒ¨ç½² | Docker å¤šé˜¶æ®µæ„å»ºï¼ˆstandalone æ¨¡å¼ï¼‰ |

---

## è·¯ç”±è¯´æ˜

| è·¯ç”± | è¯´æ˜ |
|------|------|
| `/` | Landing é¡µï¼Œé€‰æ‹©èµ›é“ |
| `/app?track=a` | è®­ç»ƒä¸»ç•Œé¢ï¼ˆçº¦ä¼šè‡ªä¿¡ï¼‰ |
| `/app?track=b` | è®­ç»ƒä¸»ç•Œé¢ï¼ˆèŒåœºæƒå¨ï¼‰ |
| `/app/session/:exerciseId` | å•ä¸ªå…³å¡è®­ç»ƒï¼ˆå½•éŸ³ + åˆ†æï¼‰ |
| `/coach` | æ•™ç»ƒæ•™ç¨‹ä¸­å¿ƒï¼ˆ4 ä¸ªå¾®æ•™ç¨‹ï¼‰ |
| `/share?s=85&d=78&st=91&p=65&streak=7&track=a` | åªè¯»åˆ†äº«å¡ |

---

## å·²çŸ¥é™åˆ¶ï¼ˆMVPï¼‰

1. **iOS Safari < 16**ï¼šéƒ¨åˆ†ç‰ˆæœ¬ä¸æ”¯æŒ `MediaRecorder`ï¼Œå·²é™çº§ä¸º `ScriptProcessorNode`
2. **å®æ—¶æ³¢å½¢**ï¼šMVP é˜¶æ®µæ²¡æœ‰å®æ—¶å¯è§†åŒ–ï¼Œå½•å®Œåˆ†æï¼ˆ5 ç§’å†…å‡ºç»“æœï¼‰
3. **è¿›åº¦æœ¬åœ°å­˜å‚¨**ï¼šéšç§æ¨¡å¼ä¸‹ LocalStorage ä¸å¯ç”¨ï¼Œè¿›åº¦ä¸ä¿å­˜
4. **åˆ†äº«å¡å­—ä½“**ï¼šä½¿ç”¨ç³»ç»Ÿå­—ä½“ï¼Œåœ¨æå°‘æ•°è®¾å¤‡ä¸Šä¸­æ–‡å¯èƒ½æ˜¾ç¤ºä¸ºæ–¹å—ï¼ˆæ— ç½‘ç»œå­—ä½“ä¾èµ–ï¼‰
5. **éŸ³é¢‘åˆ†æç²¾åº¦**ï¼šå˜ˆæ‚ç¯å¢ƒä¸‹ confidence < 0.3ï¼Œä¼šæç¤ºæ¢åˆ°å®‰é™å¤„

---

## ä¸‹ä¸€æ­¥è·¯çº¿å›¾

- [ ] Phase 2.5ï¼šAudioWorklet å®æ—¶æ³¢å½¢å¯è§†åŒ–
- [ ] äº‘ç«¯åŒæ­¥è¿›åº¦ï¼ˆå¯é€‰ï¼Œç”¨æˆ·ä¸»åŠ¨å¼€å¯ï¼‰
- [ ] æ›´å¤šèµ›é“ï¼ˆå…¬å¼€æ¼”è®²ã€æ’­å®¢ä¸»æŒï¼‰
- [ ] iOS / Android åŸç”Ÿ Appï¼ˆæ ¸å¿ƒå¼•æ“å·²ç‹¬ç«‹ï¼Œå¯å¤ç”¨ï¼‰
- [ ] ä»˜è´¹åŠŸèƒ½ï¼šB èµ›é“é«˜çº§è¯¾ç¨‹ + AI æ•™ç»ƒç‚¹è¯„

---

## éšç§

è§ [PRIVACY.md](./PRIVACY.md)

---

## License

MIT
